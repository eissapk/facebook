"use strict";function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}window.addEventListener("load",function(){document.getElementById("loader").style.display="none"});var Comment=function e(t,n,a,r){_classCallCheck(this,e),this.name=t,this.text=n,this.sha=a,this.avatar=r},UI=function(){function y(){_classCallCheck(this,y)}return _createClass(y,null,[{key:"removeLayer",value:function(){var e=document.getElementById("name-layer"),t=document.getElementById("user-name"),n=document.getElementById("ok"),a=document.getElementById("error");n.addEventListener("click",function(){""!==t.value&&""!=t.value.trim()?(e.style.display="none",document.querySelector("body").style.overflow="auto"):(e.style.display="grid",a.textContent="invalid name!",setTimeout(function(){a.textContent=""},1e3))})}},{key:"clickBtn",value:function(){var e=document.getElementById("user-name"),t=document.getElementById("ok");e.addEventListener("keyup",function(e){13===e.keyCode&&t.click()})}},{key:"displayComment",value:function(){Store.getComment().forEach(function(e){y.addComment(e)})}},{key:"addComment",value:function(e){var t=document.querySelector("section"),n=document.createElement("div");n.className="user",n.innerHTML='\n        <div class="user-img">\n            <img src="'.concat(e.avatar,'" alt="user">\n        </div>\n\n        <div class="user-comment">\n            <p><span>').concat(e.name,"</span>").concat(e.text,'</p>\n            <input type="hidden" class="sha" value="').concat(e.sha,'">\n            <input type="hidden" class="store-last-com">\n            <div>\n                <input type="text" class="edit-input">\n                <i>Press Esc to</i><a href="javascript:void(0)" class="esc">cancel</a>\n            </div>\n        </div>\n\n        <div class="dropdown">\n            <li class="li icon-ellipsis-h">\n                <ul>\n                    <li class="edit"><i class="edit-icon icon-pen"></i><span class="edit-text">edit...</span></li>\n                    <li class="delete"><i class="delete-icon icon-trash"></i><span class="delete-text">delete...</span></li>\n                </ul>\n            </li>\n        </div>\n\n        <div class="confirm-layer">\n        <div class="confirm-wrapper">\n            <div class="confirm-text">\n                <span>delete</span>\n                <i class="ex icon-times"></i>\n            </div>\n            <p>Are you sure you want to delete this comment?</p>\n            <div class="confirm-btns">\n                <button type="button" class="del">delete</button>\n                <button type="button" class="cancel">cancel</button>\n            </div>\n        </div>\n        </div>\n        '),t.appendChild(n)}},{key:"generateSha",value:function(){return(new Date).getTime()}},{key:"removeComment",value:function(t){var n=t.target.parentElement.parentElement.parentElement.parentElement;if(t.target.classList.contains("delete-text")){var e=t.target.parentElement.parentElement.parentElement.parentElement.nextElementSibling;t.target.parentElement.parentElement.style.display="none",e.style.display="grid";var a=e.querySelector(".del"),r=e.querySelector(".ex"),l=e.querySelector(".cancel");a.addEventListener("click",function(){var e=t.target.parentElement.parentElement.parentElement.parentElement.parentElement.querySelector(".user-comment .sha").value;n.parentElement.remove(),Store.removeComment(e),y.calcCom()}),l.addEventListener("click",function(){e.style.display="none"}),r.addEventListener("click",function(){e.style.display="none"})}if(t.target.classList.contains("delete-icon")){var o=t.target.parentElement.parentElement.parentElement.parentElement.nextElementSibling;t.target.parentElement.parentElement.style.display="none",o.style.display="grid";var s=o.querySelector(".del"),c=o.querySelector(".ex"),i=o.querySelector(".cancel");s.addEventListener("click",function(){var e=t.target.parentElement.parentElement.parentElement.parentElement.parentElement.querySelector(".user-comment .sha").value;n.parentElement.remove(),Store.removeComment(e),y.calcCom()}),i.addEventListener("click",function(){o.style.display="none"}),c.addEventListener("click",function(){o.style.display="none"})}if(t.target.classList.contains("delete")){var u=t.target.parentElement.parentElement.parentElement.nextElementSibling;t.target.parentElement.style.display="none",u.style.display="grid";var m=u.querySelector(".del"),p=u.querySelector(".ex"),d=u.querySelector(".cancel");m.addEventListener("click",function(){var e=t.target.parentElement.parentElement.parentElement.parentElement.querySelector(".user-comment .sha").value;n.remove(),Store.removeComment(e),y.calcCom()}),d.addEventListener("click",function(){u.style.display="none"}),p.addEventListener("click",function(){u.style.display="none"})}}},{key:"editComment",value:function(e){if(e.target.classList.contains("edit-text")){e.target.parentElement.parentElement.style.display="none";var t=e.target.parentElement.parentElement.parentElement.parentElement.previousElementSibling.querySelector("p"),n=e.target.parentElement.parentElement.parentElement.parentElement.parentElement.querySelector(".user-comment .sha").value,a=e.target.parentElement.parentElement.parentElement.parentElement.previousElementSibling.querySelector(".store-last-com"),r=e.target.parentElement.parentElement.parentElement.parentElement.previousElementSibling.querySelector("div"),l=e.target.parentElement.parentElement.parentElement.parentElement.previousElementSibling.querySelector("div .edit-input"),o=e.target.parentElement.parentElement.parentElement.parentElement.previousElementSibling.querySelector("div a");t.style.display="none",r.style.display="block",l.focus(),a.value=t.lastChild.textContent,l.value=t.lastChild.textContent,l.addEventListener("keyup",function(e){t.lastChild.textContent=l.value,13===e.keyCode&&""!==l.value&&""!=l.value.trim()&&(t.style.display="block",r.style.display="none",Store.editComment(n,t)),27===e.keyCode&&o.click()}),o.addEventListener("click",function(){t.lastChild.textContent=a.value,t.style.display="block",r.style.display="none"})}if(e.target.classList.contains("edit-icon")){e.target.parentElement.parentElement.style.display="none";var s=e.target.parentElement.parentElement.parentElement.parentElement.previousElementSibling.querySelector("p"),c=e.target.parentElement.parentElement.parentElement.parentElement.parentElement.querySelector(".user-comment .sha").value,i=e.target.parentElement.parentElement.parentElement.parentElement.previousElementSibling.querySelector(".store-last-com"),u=e.target.parentElement.parentElement.parentElement.parentElement.previousElementSibling.querySelector("div"),m=e.target.parentElement.parentElement.parentElement.parentElement.previousElementSibling.querySelector("div .edit-input"),p=e.target.parentElement.parentElement.parentElement.parentElement.previousElementSibling.querySelector("div a");s.style.display="none",u.style.display="block",m.focus(),i.value=s.lastChild.textContent,m.value=s.lastChild.textContent,m.addEventListener("keyup",function(e){s.lastChild.textContent=m.value,13===e.keyCode&&""!==m.value&&""!=m.value.trim()&&(s.style.display="block",u.style.display="none",Store.editComment(c,s)),27===e.keyCode&&p.click()}),p.addEventListener("click",function(){s.lastChild.textContent=i.value,s.style.display="block",u.style.display="none"})}if(e.target.classList.contains("edit")){e.target.parentElement.style.display="none";var d=e.target.parentElement.parentElement.parentElement.previousElementSibling.querySelector("p"),y=e.target.parentElement.parentElement.parentElement.parentElement.querySelector(".user-comment .sha").value,E=e.target.parentElement.parentElement.parentElement.previousElementSibling.querySelector(".store-last-com"),g=e.target.parentElement.parentElement.parentElement.previousElementSibling.querySelector("div"),v=e.target.parentElement.parentElement.parentElement.previousElementSibling.querySelector("div .edit-input"),k=e.target.parentElement.parentElement.parentElement.previousElementSibling.querySelector("div a");d.style.display="none",g.style.display="block",v.focus(),E.value=d.lastChild.textContent,v.value=d.lastChild.textContent,v.addEventListener("keyup",function(e){d.lastChild.textContent=v.value,13===e.keyCode&&""!==v.value&&""!=v.value.trim()&&(d.style.display="block",g.style.display="none",Store.editComment(y,d)),27===e.keyCode&&k.click()}),k.addEventListener("click",function(){d.lastChild.textContent=E.value,d.style.display="block",g.style.display="none"})}}},{key:"global",value:function(){y.avatarSrc=["img/users/0.jpg","img/users/1.svg","img/users/2.svg","img/users/3.svg","img/users/4.svg","img/users/5.svg","img/users/6.svg","img/users/7.svg"],y.src="img/users/0.jpg",y.likeToggle=!1}},{key:"avatar",value:function(){var t=document.getElementById("user-name"),n=document.querySelector("._0"),a=document.querySelector("._1"),r=document.querySelector("._2"),l=document.querySelector("._3"),o=document.querySelector("._4"),s=document.querySelector("._5"),c=document.querySelector("._6"),i=document.querySelector("._7");document.querySelector(".avatar-wrapper").addEventListener("click",function(e){e.target.classList.contains("_0")&&(y.src=y.avatarSrc[0],n.parentElement.style.background="#4267b2",a.parentElement.style.background="transparent",r.parentElement.style.background="transparent",l.parentElement.style.background="transparent",o.parentElement.style.background="transparent",s.parentElement.style.background="transparent",c.parentElement.style.background="transparent",i.parentElement.style.background="transparent",t.focus()),e.target.classList.contains("_1")&&(y.src=y.avatarSrc[1],n.parentElement.style.background="transparent",a.parentElement.style.background="#4267b2",r.parentElement.style.background="transparent",l.parentElement.style.background="transparent",o.parentElement.style.background="transparent",s.parentElement.style.background="transparent",c.parentElement.style.background="transparent",i.parentElement.style.background="transparent",t.focus()),e.target.classList.contains("_2")&&(y.src=y.avatarSrc[2],n.parentElement.style.background="transparent",a.parentElement.style.background="transparent",r.parentElement.style.background="#4267b2",l.parentElement.style.background="transparent",o.parentElement.style.background="transparent",s.parentElement.style.background="transparent",c.parentElement.style.background="transparent",i.parentElement.style.background="transparent",t.focus()),e.target.classList.contains("_3")&&(y.src=y.avatarSrc[3],n.parentElement.style.background="transparent",a.parentElement.style.background="transparent",r.parentElement.style.background="transparent",l.parentElement.style.background="#4267b2",o.parentElement.style.background="transparent",s.parentElement.style.background="transparent",c.parentElement.style.background="transparent",i.parentElement.style.background="transparent",t.focus()),e.target.classList.contains("_4")&&(y.src=y.avatarSrc[4],n.parentElement.style.background="transparent",a.parentElement.style.background="transparent",r.parentElement.style.background="transparent",l.parentElement.style.background="transparent",o.parentElement.style.background="#4267b2",s.parentElement.style.background="transparent",c.parentElement.style.background="transparent",i.parentElement.style.background="transparent",t.focus()),e.target.classList.contains("_5")&&(y.src=y.avatarSrc[5],n.parentElement.style.background="transparent",a.parentElement.style.background="transparent",r.parentElement.style.background="transparent",l.parentElement.style.background="transparent",o.parentElement.style.background="transparent",s.parentElement.style.background="#4267b2",c.parentElement.style.background="transparent",i.parentElement.style.background="transparent",t.focus()),e.target.classList.contains("_6")&&(y.src=y.avatarSrc[6],n.parentElement.style.background="transparent",a.parentElement.style.background="transparent",r.parentElement.style.background="transparent",l.parentElement.style.background="transparent",o.parentElement.style.background="transparent",s.parentElement.style.background="transparent",c.parentElement.style.background="#4267b2",i.parentElement.style.background="transparent",t.focus()),e.target.classList.contains("_7")&&(y.src=y.avatarSrc[7],n.parentElement.style.background="transparent",a.parentElement.style.background="transparent",r.parentElement.style.background="transparent",l.parentElement.style.background="transparent",o.parentElement.style.background="transparent",s.parentElement.style.background="transparent",c.parentElement.style.background="transparent",i.parentElement.style.background="#4267b2",t.focus()),document.querySelector("footer .user-img img").setAttribute("src",y.src)})}},{key:"calcDate",value:function(){var e=document.querySelector("header aside i"),t=new Date,n=t.getFullYear()-2018,a=((n*=12)+(t.getMonth()-8))/12,r=a%1,l=a-r,o=(12*r).toFixed();0==l&&(e.textContent="".concat(o," mo")),0==o&&(e.textContent="".concat(l," yr")),0<o&&0<l&&(e.textContent="".concat(l," yr, ").concat(o," mo")),0==o&&0==l&&(e.textContent="Just Now")}},{key:"calcCom",value:function(){var a=document.querySelector(".comments-num i");document.querySelectorAll(".user").forEach(function(e,t,n){a.textContent=n.length})}},{key:"comSound",value:function(){var e=new Audio;e.src="sound/comment.mp3",e.play()}},{key:"focusSound",value:function(){var e=new Audio;e.src="sound/focus.mp3",e.play()}},{key:"likeSound",value:function(){var e=new Audio;e.src="sound/like.mp3",e.play()}},{key:"like",value:function(){document.querySelector(".like i").style.color="#2078f4",document.querySelector(".like span").style.color="#2078f4",y.likeSound()}},{key:"unlike",value:function(){document.querySelector(".like i").style.color="#606770",document.querySelector(".like span").style.color="#606770"}},{key:"focusInput",value:function(){document.querySelector("#user-comment").focus()}},{key:"clearInput",value:function(){document.querySelector("#user-comment").value=""}},{key:"fixedComments",value:function(){document.querySelector('input[value="00100"]').parentElement.nextElementSibling.querySelector(".li").remove(),document.querySelector('input[value="00200"]').parentElement.nextElementSibling.querySelector(".li").remove(),document.querySelector('input[value="00300"]').parentElement.nextElementSibling.querySelector(".li").remove(),document.querySelector('input[value="00100"]').parentElement.nextElementSibling.nextElementSibling.remove(),document.querySelector('input[value="00200"]').parentElement.nextElementSibling.nextElementSibling.remove(),document.querySelector('input[value="00300"]').parentElement.nextElementSibling.nextElementSibling.remove()}}]),y}(),Store=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"getComment",value:function(){return null===localStorage.getItem("comments")?[{name:"Pashatheboss",text:"Legend â¤ï¸",avatar:"img/users/pasha.jpg",sha:"00100"},{name:"Thebartlife",text:"Sick!!!",avatar:"img/users/bart.jpg",sha:"00200"},{name:"Dimitris_dk_kyrsanidis",text:"You are floating bro!! Great power!! Impressive!!ðŸ™ŒðŸ™ŒðŸ˜ƒ",avatar:"img/users/dk.jpg",sha:"00300"}]:JSON.parse(localStorage.getItem("comments"))}},{key:"addComment",value:function(e){var t=r.getComment();t.push(e),localStorage.setItem("comments",JSON.stringify(t))}},{key:"removeComment",value:function(n){var a=r.getComment();a.forEach(function(e,t){e.sha==n&&a.splice(t,1)}),localStorage.setItem("comments",JSON.stringify(a))}},{key:"editComment",value:function(t,n){var e=r.getComment();e.forEach(function(e){e.sha==t&&(e.text=n.lastChild.textContent)}),localStorage.setItem("comments",JSON.stringify(e))}},{key:"getLike",value:function(){return null===localStorage.getItem("likes")?3:JSON.parse(localStorage.getItem("likes"))}},{key:"like",value:function(){var e=r.getLike();e++,document.querySelector(".likes-num i").textContent=e,localStorage.setItem("likes",JSON.stringify(e))}},{key:"unlike",value:function(){var e=r.getLike();e--,document.querySelector(".likes-num i").textContent=e,localStorage.setItem("likes",JSON.stringify(e))}}]),r}();document.addEventListener("DOMContentLoaded",function(){UI.removeLayer(),UI.clickBtn(),UI.displayComment(),UI.calcCom(),UI.calcDate(),UI.avatar(),UI.fixedComments(),document.querySelector(".likes-num i").textContent=Store.getLike(),UI.global()}),document.querySelector("#form").addEventListener("submit",function(e){e.preventDefault();var t=document.querySelector("#user-comment").value;if(0<t.length&&""!=t.trim()){var n=document.querySelector("#user-name").value,a=UI.generateSha(),r=UI.src,l=new Comment(n,t,a,r);UI.addComment(l),Store.addComment(l),UI.calcCom(),UI.comSound(),UI.clearInput()}}),document.querySelector("section").addEventListener("click",function(e){UI.removeComment(e)}),document.querySelector("section").addEventListener("click",function(e){UI.editComment(e)}),document.querySelector(".btns .comment").addEventListener("click",function(){UI.focusInput(),UI.focusSound()}),document.querySelector(".like").addEventListener("click",function(){UI.likeToggle?(UI.unlike(),Store.unlike(),UI.likeToggle=!1):(UI.like(),Store.like(),UI.likeToggle=!0)}),document.querySelector("section").addEventListener("click",function(e){if(e.target.classList.contains("li")){var t=e.target.querySelector("ul");""==t.style.display||"none"==t.style.display?t.style.display="block":t.style.display="none"}}),document.addEventListener("contextmenu",function(e){});
//# sourceMappingURL=../maps/app.min.js.map
